/*
 * Copyright (c) 2018, Oracle and/or its affiliates. All rights reserved.
 *
 * Licensed under the Universal Permissive License v 1.0 as shown at http://oss.oracle.com/licenses/upl.
 */

# This is a sample configuration file for weblogic Logging Exporter
# The exporter will look for the file specified by the system variable "WEBLOGIC_LOGGING_EXPORTER_CONFIG_FILE",
# if this is not specified, will search by the default name under domain config directory.
# By default, the logging exporter will look for this file "weblogicLoggingExporter.yaml" under the
# domain config directory.
# If file doesn't exist, will use all the defaults.

# The index name for weblogic logs used in elastic search.  By default it is set to "wls";
# Elastic Search restricts the index name to be lower case only.  Exporter will automatically convert this to all lower case.
# and gives a warning.
weblogicLoggingIndexName: wls

# The host that Elastic Search is running on.  Defaults to localhost.
publishHost: localhost

# The port that Elastic Search is listening to.   Defaults to 9200.
publishPort: 9200

# The "domainUID" used to uniquely identify this domain.  This is used to filter logs in Kibana by the domain they came
# from.  You should use a unique value for each domain.  If you are using the WebLogic Kubernetes Operator, it is
# strongly recommended you use the same value as in the domain custom resource.
domainUid: domain1

# Decide if this exporter should be enabled.  Default is true.   If set to false, nothing will be logged to Elastic Search.
weblogicLoggingExporterEnabled:  true

# The minimum severity of log messages that should be exported to Elastic Search.
# Messages with a lower severity than the specified value will not be exported.
# Note that this is for all the messages that's published to domain.log.  By Default, domain.log includes all messages that is of severity Notice or higher.
# This means that if you set weblogicLoggingExporterSeverity to lower, eg.  INFO,  it may not be exported depending if you have changed the default value of
# Domain log to log at a lower severity.
# Possible value includes:  Debug, Info, Notice, Warning, Error, Critical, Alert, Emergency, Off.
# If this is set to Off,  ALL messages from domain log will be exported.
weblogicLoggingExporterSeverity:  Notice

# Exports the messages to Elastic Search in bulk mode.
# When this is not specified, by default, the exporter will not do any batching.  Each messages will be posted to Elastic Search immediately
# as it comes in.
# If specified, the post will happen after the number of messages specified is gathered and will be posted in one batch.
# batch size must be greater than 0
weblogicLoggingExporterBulkSize: 2

# Filters that will be applied to all the messages.
# More than 1 filter can be specified, messages MUST satisfy all the filter condition before it will be exported.
# If FilterServers is specified,  then that filter will be applied only to messages that is generated by the specified servers.
# More than one server is allowed.
# If no FilterServers is specified, it will be applied to all messages.
# WLDF includes a query language for constructing log filter expressions.
# The syntax is a small and simplified subset of SQL syntax.
# refer to  https://docs.oracle.com/middleware/1221/wls/WLDFC/appendix_query.htm#WLDFC336 on how to create a log filter expressions.
#
weblogicLoggingExporterFilters:
- FilterExpression:  MSGID != 'BEA-000449'

# example of filter, this filter will only be applied to messages that is generated by Server-0
#- FilterExpression:  "(MACHINE = 'machine1') OR (SEVERITY >= Warning)"
#  FilterServers:     Server-0

